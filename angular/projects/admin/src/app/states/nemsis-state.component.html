<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
  <h1 class="h2">{{state?.name}} NEMSIS Configuration</h1>
</div>
<form>
  <h4>Repository</h4>
  <div class="mb-3">
    <button [disabled]="!repo || isRepoInitializing" (click)="onRepoInit()" type="button" class="btn btn--sm btn--primary me-3" i18n>
      <span *ngIf="!(repo?.initialized ?? false)">Initialize Repository</span>
      <span *ngIf="repo?.initialized">Refresh Repository</span>
    </button>
    <span *ngIf="!repo || isRepoInitializing"><shared-loader></shared-loader> Please wait...</span>
  </div>
  <h4>Data Sets</h4>
  <div class="row">
    <div class="col-lg-6 col-xl-4">
      <div class="mb-3">
        <div class="array-field array-field--noclear">
          <div class="form-field form-field--noclear form-field--nonempty">
            <label>Repository Data Sets</label>
            <div *ngFor="let version of repo?.dataSetVersions" class="array-field__item d-flex justify-content-between align-items-center">
              {{version|version}}
              <i (click)="onDataSetImport(version)" class="fas fa-file-import"></i>
            </div>
            <div *ngIf="(repo?.dataSetVersions.length ?? 0) == 0" class="array-field__item">
              <span *ngIf="!(repo?.initialized ?? false)">Repository not initialized</span>
              <span *ngIf="repo?.initialized">None</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xl-4">
      <div class="mb-3">
        <div class="array-field array-field--noclear">
          <div class="form-field form-field--noclear form-field--nonempty">
            <label>External Data Sets</label>
            <div *ngFor="let version of repo?.dataSetVersions" class="array-field__item d-flex justify-content-between align-items-center">
              {{version|version}}
              <i (click)="onDataSetImport(version)" class="fas fa-file-import"></i>
            </div>
            <div *ngIf="(repo?.dataSetVersions.length ?? 0) == 0" class="array-field__item">
              <span>None</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <h4>Schematrons</h4>
  <div class="row">
    <div class="col-lg-6 col-xl-4">
      <div class="mb-3">
        <div class="array-field array-field--noclear">
          <div class="form-field form-field--noclear form-field--nonempty">
            <label>Repository Schematrons</label>
            <div *ngFor="let version of repo?.schematronVersions" class="array-field__item">
              {{version|version}}
            </div>
            <div *ngIf="(repo?.schematronVersions.length ?? 0) == 0" class="array-field__item">
              <span *ngIf="!(repo?.initialized ?? false)">Repository not initialized</span>
              <span *ngIf="repo?.initialized">None</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-xl-4">
      <div class="mb-3">
        <div class="array-field array-field--noclear">
          <div class="form-field form-field--noclear form-field--nonempty">
            <label>External Schematrons</label>
            <div *ngFor="let version of repo?.schematronVersions" class="array-field__item">
              {{version|version}}
            </div>
            <div *ngIf="(repo?.schematronVersions.length ?? 0) == 0" class="array-field__item">
              <span>None</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
